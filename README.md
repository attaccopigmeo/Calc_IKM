# Шмидт Камилла, ИТ-7

# Калькулятор обратной польской записи (постфиксной записи)

## Поставленная задача

Реализовать калькулятор для вычисления арифметических выражений, записанных в обратной польской записи (постфиксной записи), со следующими требованиями:
- Поддерживаемые операции: `+`, `-`, `*`, `/`
- Операнды - вещественные положительные числа
- Входная строка содержит числа и операции, разделенные пробелами
- Для хранения промежуточных результатов вычислений использовать структуру стека

## Выбранная структура данных

Для решения задачи используется **стек** (реализованный отдельным классом), так как он соответствует природе вычислений в обратной польской записи:
1. Операнды помещаются на стек по мере их поступления
2. Когда встречается операция, она извлекает необходимое количество операндов из стека (два для бинарных операций)
3. Результат операции помещается обратно на стек
4. В конце вычислений на стеке остается единственное число - результат всего выражения

## Алгоритм решения

1. Разбить входную строку на токены (числа и операции) по пробелам
2. Для каждого токена:
   - Если это число - поместить его на стек
   - Если это операция:
     - Извлечь из стека два числа
     - Выполнить операцию
     - Поместить результат обратно на стек
3. После обработки всех токенов проверить, что на стеке ровно одно число (результат)
4. Вернуть результат

## Обработка исключений

Исключения обрабатываются в следующих случаях:
1. **Некорректный ввод** (не число и не операция) - проверяется в методе `_perform`
2. **Недостаточно чисел** для операции - проверяется перед выполнением операции
3. **Незавершенное выражение** (в стеке осталось больше одного числа) - проверяется в конце вычислений
4. **Деление на ноль** - обрабатывается автоматически Python, перехватывается как исключение

Исключения обрабатываются в основном цикле вычислений, чтобы программа могла продолжить работу после ошибки.

## Используемые принципы ООП

### Классы
- `Calculator`: основной класс, инкапсулирующий логику вычислений и состояние стека
- `Stack`: реализация стека (на основе односвязного списка)
- `Node`: элемент стека

### Инкапсуляция
- Стек (`self.stack`) скрыт внутри класса `Calculator`
- Метод `_perform` обозначен как "приватный" (по соглашению Python с префиксом `_`), так как предназначен только для внутреннего использования классом

### Наследование и полиморфизм
В данном проекте явно не используются, так как в задаче оказалось достаточно одного класса.

## Использование

1. Запустите программу: `python calculator.py`
2. Введите выражение в обратной польской записи, например: `5 1 2 + 4 * + 3 -`
3. Программа выведет результат: `14.0`
4. Для выхода оставьте ввод пустым и нажмите Enter

Примеры корректных выражений:
- `3 4 +` → 7.0
- `5 1 2 + 4 * + 3 -` → 14.0
- `10 2 /` → 5.0
- `1 2 + 4 * 5 + 3 -` → 14.0